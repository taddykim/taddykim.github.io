import{_ as b,o as n,c as o,I as a,a as d,t as u,g as p,F as f,r as g}from"./entry.ff5b9463.js";const _={name:"Tag",data(){return{getData:this.data.data,getSelectedData:this.data.select,expanded:!1,selected:{open:!1,title:""},variable:!1}},methods:{tagClick(i){if(this.option.multi)this.getData[i].selected=!this.getData[i].selected;else{if(this.getData[i].selected)return;this.getData=this.getData.map((s,h)=>(s.selected?s.selected=!1:s.selected=i==h,s))}this.tagMove(i)},tagMove(i){if(this.getData[i].selected==!1)return;let l=this.$refs.selectItem;l=l==null?0:l.offsetWidth;const s=this.$refs.item[i].offsetLeft,h=this.$refs.item[i].offsetWidth,e=this.$refs.wrap,c=e.querySelector("ul"),t=e.offsetWidth-l,r=s-l-t/2+h/2;c.scrollLeft=r},ExpandedClick(){this.expanded=!this.expanded;let i=[];this.getData.forEach((l,s)=>{l.selected&&i.push(s)}),setTimeout(()=>{this.tagMove(i[0])},0)},hasSelectInit(){if(this.getSelectedData.length<1)return;let i;this.getSelectedData.forEach((l,s)=>{l.selected&&(i=s)}),this.setSelectedTitle(i)},setSelectedTitle(i){this.getSelectedData=this.getSelectedData.map((l,s)=>(l.selected=s==i,l)),this.selected.title=this.getSelectedData[i].title},resize(){const l=this.$refs.wrap.offsetWidth,s=this.$refs.item;let h=0;s.forEach(e=>{h+=e.offsetWidth}),this.variable=h>l}},mounted(){this.hasSelectInit(),this.option.type=="expandedResize"&&(this.resize(),window.addEventListener("resize",this.resize))},unmounted(){window.addEventListener("resize",this.resize)},props:{data:Object,option:Object}},y={key:0,role:"none",class:"other",ref:"selectItem"},m=["aria-selected","disabled","onClick"],C={role:"listbox"},v=["aria-selected","onClick"],x=["aria-expanded"],D=d("span",{class:"blind"},"펼쳐 보기",-1),S=[D],w={key:0,role:"none",class:"other",ref:"selectItem"},E=["aria-selected","disabled","onClick"],I={role:"listbox"},z=["aria-selected","onClick"],W=["aria-expanded"],L=d("span",{class:"blind"},"펼쳐 보기",-1),T=[L],M={key:0,role:"none",class:"other",ref:"selectItem"},B=["aria-selected","disabled","onClick"],j={role:"listbox"},F=["aria-selected","onClick"];function N(i,l,s,h,e,c){return n(),o(f,null,[s.option.type=="block"||s.option.type=="default"?(n(),o("div",{key:0,class:a(["tag_list tagList",{multi:s.option.multi,block:s.option.type=="block"}]),ref:"wrap"},[d("ul",null,[e.getSelectedData.length?(n(),o("li",y,[d("button",{type:"button","aria-haspopup":"true",onClick:l[0]||(l[0]=t=>e.selected.open=!e.selected.open)},u(e.selected.title),1)],512)):p("",!0),(n(!0),o(f,null,g(e.getData,(t,r)=>(n(),o("li",{role:"none",class:a({on:t.selected}),key:r,ref_for:!0,ref:"item"},[d("button",{type:"button",role:"option","aria-selected":t.selected,disabled:t.disabled,onClick:k=>c.tagClick(r)},u(t.title),9,m)],2))),128))]),e.getSelectedData.length?(n(),o("div",{key:0,class:a(["other_pop",{on:e.selected.open}]),onClick:l[1]||(l[1]=t=>e.selected.open=!e.selected.open)},[d("ul",C,[(n(!0),o(f,null,g(e.getSelectedData,(t,r)=>(n(),o("li",{role:"none",class:a({on:t.selected}),key:r},[d("button",{type:"button",role:"option","aria-selected":t.open,onClick:k=>c.setSelectedTitle(r)},u(t.title),9,v)],2))),128))])],2)):p("",!0)],2)):p("",!0),s.option.type=="expanded"?(n(),o("div",{key:1,class:a(["tag_list tagList variable",{multi:s.option.multi,on:e.expanded}]),ref:"wrap"},[d("button",{type:"button","aria-expanded":e.expanded,onClick:l[2]||(l[2]=(...t)=>c.ExpandedClick&&c.ExpandedClick(...t))},S,8,x),d("ul",null,[e.getSelectedData.length?(n(),o("li",w,[d("button",{type:"button","aria-haspopup":"true",onClick:l[3]||(l[3]=t=>e.selected.open=!e.selected.open)},u(e.selected.title),1)],512)):p("",!0),(n(!0),o(f,null,g(e.getData,(t,r)=>(n(),o("li",{role:"none",class:a({on:t.selected}),key:r,ref_for:!0,ref:"item"},[d("button",{type:"button",role:"option","aria-selected":t.selected,disabled:t.disabled,onClick:k=>c.tagClick(r)},u(t.title),9,E)],2))),128))]),e.getSelectedData.length?(n(),o("div",{key:0,class:a(["other_pop",{on:e.selected.open}]),onClick:l[4]||(l[4]=t=>e.selected.open=!e.selected.open)},[d("ul",I,[(n(!0),o(f,null,g(e.getSelectedData,(t,r)=>(n(),o("li",{role:"none",class:a({on:t.selected}),key:r},[d("button",{type:"button",role:"option","aria-selected":t.open,onClick:k=>c.setSelectedTitle(r)},u(t.title),9,z)],2))),128))])],2)):p("",!0)],2)):p("",!0),s.option.type=="expandedResize"?(n(),o("div",{key:2,class:a(["tag_list tagList",{multi:s.option.multi,on:e.expanded,variable:e.variable}]),ref:"wrap"},[d("button",{type:"button","aria-expanded":e.expanded,onClick:l[5]||(l[5]=(...t)=>c.ExpandedClick&&c.ExpandedClick(...t))},T,8,W),d("ul",null,[e.getSelectedData.length?(n(),o("li",M,[d("button",{type:"button","aria-haspopup":"true",onClick:l[6]||(l[6]=t=>e.selected.open=!e.selected.open)},u(e.selected.title),1)],512)):p("",!0),(n(!0),o(f,null,g(e.getData,(t,r)=>(n(),o("li",{role:"none",class:a({on:t.selected}),key:r,ref_for:!0,ref:"item"},[d("button",{type:"button",role:"option","aria-selected":t.selected,disabled:t.disabled,onClick:k=>c.tagClick(r)},u(t.title),9,B)],2))),128))]),e.getSelectedData.length?(n(),o("div",{key:0,class:a(["other_pop",{on:e.selected.open}]),onClick:l[7]||(l[7]=t=>e.selected.open=!e.selected.open)},[d("ul",j,[(n(!0),o(f,null,g(e.getSelectedData,(t,r)=>(n(),o("li",{role:"none",class:a({on:t.selected}),key:r},[d("button",{type:"button",role:"option","aria-selected":t.open,onClick:k=>c.setSelectedTitle(r)},u(t.title),9,F)],2))),128))])],2)):p("",!0)],2)):p("",!0)],64)}const R=b(_,[["render",N]]);export{R as _};
