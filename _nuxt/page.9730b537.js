import{z as c,X as K,m as h,L as b,Y as j,Z as R,s as O,$ as v,a0 as S,a1 as p,a2 as x,a3 as T,O as w,a4 as L,T as N,a5 as B,k as C}from"./entry.ff5b9463.js";function l(e){return e!==null&&typeof e=="object"}function d(e,a,t=".",r){if(!l(a))return d(e,{},t,r);const o=Object.assign({},a);for(const n in e){if(n==="__proto__"||n==="constructor")continue;const i=e[n];i!=null&&(r&&r(o,n,i,t)||(Array.isArray(i)&&Array.isArray(o[n])?o[n]=[...i,...o[n]]:l(i)&&l(o[n])?o[n]=d(i,o[n],(t?`${t}.`:"")+n.toString(),r):o[n]=i))}return o}function H(e){return(...a)=>a.reduce((t,r)=>d(t,r,"",e),{})}const I=H(),$=(e,a)=>a.path.replace(/(:\w+)\([^)]+\)/g,"$1").replace(/(:\w+)[?+*]/g,"$1").replace(/:\w+/g,t=>{var r;return((r=e.params[t.slice(1)])==null?void 0:r.toString())||""}),y=(e,a)=>{const t=e.route.matched.find(o=>{var n;return((n=o.components)==null?void 0:n.default)===e.Component.type}),r=a??(t==null?void 0:t.meta.key)??(t&&$(e.route,t));return typeof r=="function"?r(e.route):r},q=(e,a)=>({default:()=>e?c(K,e===!0?{}:e,a):a}),F=h({name:"RouteProvider",props:{vnode:{type:Object,required:!0},route:{type:Object,required:!0},vnodeRef:Object,renderKey:String,trackRootNodes:Boolean},setup(e){const a=e.renderKey,t=e.route,r={};for(const o in e.route)Object.defineProperty(r,o,{get:()=>a===e.renderKey?e.route[o]:t[o]});return b(R,j(r)),()=>c(e.vnode,{ref:e.vnodeRef})}}),Y=h({name:"NuxtPage",inheritAttrs:!1,props:{name:{type:String},transition:{type:[Boolean,Object],default:void 0},keepalive:{type:[Boolean,Object],default:void 0},route:{type:Object},pageKey:{type:[Function,String],default:null}},setup(e,{attrs:a,expose:t}){const r=C(),o=O(),n=v(R,null);t({pageRef:o});const i=v(S,null);let s;return()=>c(B,{name:e.name,route:e.route,...a},{default:u=>{const A=V(n,u.route,u.Component),g=n&&n.matched.length===u.route.matched.length;if(!u.Component)return s&&!g?s:void 0;if(s&&i&&!i.isCurrent(u.route))return s;if(A&&n&&(!i||i!=null&&i.isCurrent(n)))return g?s:null;const m=y(u,e.pageKey),k=r.deferHydration(),f=!!(e.transition??u.route.meta.pageTransition??p),_=f&&D([e.transition,u.route.meta.pageTransition,p,{onAfterLeave:()=>{r.callHook("page:transition:finish",u.Component)}}].filter(Boolean));return s=x(N,f&&_,q(e.keepalive??u.route.meta.keepalive??L,c(T,{suspensible:!0,onPending:()=>r.callHook("page:start",u.Component),onResolve:()=>{w(()=>r.callHook("page:finish",u.Component).finally(k))}},{default:()=>c(F,{key:m,vnode:u.Component,route:u.route,renderKey:m,trackRootNodes:f,vnodeRef:o})}))).default(),s}})}});function z(e){return Array.isArray(e)?e:e?[e]:[]}function D(e){const a=e.map(t=>({...t,onAfterLeave:z(t.onAfterLeave)}));return I(...a)}function V(e,a,t){if(!e)return!1;const r=a.matched.findIndex(o=>{var n;return((n=o.components)==null?void 0:n.default)===(t==null?void 0:t.type)});return!r||r===-1?!1:a.matched.slice(0,r).some((o,n)=>{var i,s,u;return((i=o.components)==null?void 0:i.default)!==((u=(s=e.matched[n])==null?void 0:s.components)==null?void 0:u.default)})||t&&y({route:a,Component:t})!==y({route:e,Component:t})}export{Y as _};
