import{_ as f}from"./MVNOList.2a4fda21.js";import{_ as m,J as r,o as n,h as B,w as O,c as i,a as s,t as p,b,F as C,r as k,I as u,g as x,T as y}from"./entry.a941e244.js";import{f as d}from"./frontData.466cf310.js";const N={name:"PopupSelect",emits:["selectItem"],data(){return{data:d.select[this.option.data],isOpen:!1,isOpenClass:!1,focusBtn:null}},methods:{focus(){this.$refs.popWrap.focus()},open(){r.noScroll(),this.isOpen=!0,setTimeout(()=>{this.isOpenClass=!0},0),setTimeout(()=>{this.$refs.popWrap.focus()},100)},close(){r.scroll(),this.isOpen=!1,this.isOpenClass=!1,this.focusBtn.focus()},select(l){this.data=this.data.map(e=>(e.selected=l==e,e)),this.$emit("selectItem",l),this.focusBtn.innerHTML=l.title,this.close()}},props:{option:Object},mounted(){setTimeout(()=>{this.focusBtn=this.$parent.$refs[this.option.targetBtn],this.focusBtn==null&&(this.focusBtn=this.$parent.$parent.$refs[this.option.targetBtn]),this.focusBtn==null&&(this.focusBtn=document.querySelector(`#${this.option.targetBtn}`))},10)},components:{MVNOList:f,frontData:d}},v={class:"pop_wrap",ref:"popWrap",tabindex:"0"},V={class:"pop_header"},T={key:0,class:"pop_content"},g={key:1,class:"pop_content"},M={class:"select_list",role:"listbox"},S=["aria-selected","data-option","onClick"],F=s("span",{class:"blind"},"팝업 닫기",-1),L=[F];function w(l,e,a,I,c,o){const _=f;return n(),B(y,{name:"popupNormal"},{default:O(()=>[c.isOpen?(n(),i("div",{key:0,class:u(["pop_layer normal",{open:c.isOpenClass,close:!c.isOpenClass}])},[s("div",{onFocus:e[0]||(e[0]=(...t)=>o.focus&&o.focus(...t)),tabindex:"0"},null,32),s("div",v,[s("div",V,[s("h3",null,p(a.option.popupTitle),1)]),a.option.data=="MVNO"||a.option.data=="MVNO2"?(n(),i("div",T,[b(_,{option:{type:"select",data:a.option.data},onMVNOSelect:e[1]||(e[1]=t=>o.select(t))},null,8,["option"])])):(n(),i("div",g,[s("ul",M,[(n(!0),i(C,null,k(c.data,(t,h)=>(n(),i("li",{role:"none",class:u({on:t.selected}),key:h},[s("button",{type:"button",role:"option","aria-selected":t.selected,"data-option":t.title,onClick:W=>o.select(t)},p(t.title),9,S)],2))),128))])])),s("button",{type:"button",class:"pop_close",onClick:e[2]||(e[2]=(...t)=>o.close&&o.close(...t))},L)],512),s("div",{onFocus:e[3]||(e[3]=(...t)=>o.focus&&o.focus(...t)),tabindex:"0"},null,32)],2)):x("",!0)]),_:1})}const z=m(N,[["render",w]]);export{z as _};
